{% extends 'base.html' %}
{% block title %}Login{% endblock %}
{% if request.GET.next %}
  <div class="login-info">
    Please log in ...
  </div>
{% endif %}
{% block content %}

<div class="card shadow">
  <div class="card-body">
    
    
    <h4 class="card-title text-center mb-3">Login</h4>
   
{% if messages %}
  {% for message in messages %}
    <div id="login-alert" class="alert alert-{{ message.tags }}">
      {{ message }}
    </div>
  {% endfor %}
{% endif %}

    <form method="post">
      {% csrf_token %}

      <div class="mb-3">
        <input type="text" name="username" class="form-control" placeholder="Username" required>
      </div>

      <div class="mb-3">
        <input type="password" name="password" class="form-control" placeholder="Password" required>
      </div>

      <button class="btn btn-primary w-100">Login</button>
    </form>

    <div class="text-center mt-3">
      <a href="{% url 'register' %}">Create new account</a>
    </div>
  </div>
</div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const alertBox = document.getElementById("login-alert");

    if (alertBox) {
      setTimeout(() => {
        alertBox.style.opacity = "0";
        alertBox.style.transition = "opacity 0.4s ease";

        setTimeout(() => {
          alertBox.remove();
        }, 400);

      }, 1500); // ðŸ”¥ 1.5 seconds
    }
  });
</script>

{% endblock %}
