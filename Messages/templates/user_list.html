{% extends "base.html" %}
{% load static %}

{% block title %}Messages{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'messages.css' %}">
{% endblock %}

{% block content %}
<div class="messages-page">

  <h4 class="mb-3">Messages</h4>

  <div class="messages-list">

    {% for user in users %}
      <div class="card message-user-card mb-3">
        <div class="card-body d-flex align-items-center gap-3">

          <!-- Avatar -->
          <div class="message-avatar">
            {% if user.profile.profile_image %}
              <img src="{{ user.profile.profile_image.url }}"
                   alt="{{ user.username }}">
            {% else %}
              {{ user.username|first|upper }}
            {% endif %}
          </div>

          <!-- Info -->
          <div class="flex-grow-1">
            <div class="fw-semibold">{{ user.username }}</div>
            <small class="mt-0">Tap to start chat</small>
          </div>

          <!-- Action -->
          <a href="{% url 'chat' user.id %}"
             class="btn btn-outline-primary btn-sm">
            Message
          </a>

        </div>
      </div>
    {% endfor %}

  </div>

</div>
{% endblock %}
